# The setup here requires our shell scripts live along reusable workflows and action in the same repo. We can use github.action_path
# to run scripts from a running action. However, we cannot do this directly from a reusable workflow, we have
# to first call an action from  a reusable workflow and then call the script from that action.
name: Test a reusable workflow and an action using a nested call to a shell script.
on:
  workflow_dispatch
jobs:   
  job1:
    name: j1 call a reusable workflow
    uses: workflows-and-actions/reusable-workflows-and-actions/.github/workflows/scripts_and_nested_calls.yml@main
    with:
      script_path: scripts/hello.sh # relative to .github directory of the called reusable workflow/action
  job2:
    name: j2 call an action 
    runs-on: ubuntu-latest
    steps:
      - name: call the action 
        uses: workflows-and-actions/reusable-workflows-and-actions/.github/composite-actions/scripts_and_nested_calls@main
        with:
          script_path: scripts/hello.sh # relative to .github directory of the called reusable workflow/action

